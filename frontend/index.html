<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>ArchGenie</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="./styles.css" rel="stylesheet" />
    <!-- Mermaid.js for diagram rendering -->
    <script src="https://unpkg.com/mermaid@10/dist/mermaid.min.js"></script>
  </head>
  <body>
    <main class="wrap">
      <!-- Header -->
      <header class="hero">
        <img src="logo.png" alt="ArchGenie Logo" class="logo" />
        <h1>ArchGenie</h1>
        <p>AI-powered Architecture Generator</p>
      </header>

      <!-- Input Panel -->
      <section class="panel">
        <div class="row">
          <label for="appName">App Name</label>
          <input id="appName" type="text" value="secure 3-tier web app" />
        </div>
        <div class="row">
          <label for="prompt">Prompt</label>
          <textarea
            id="prompt"
            rows="3"
            placeholder="e.g. frontend & backend as App Service, use MSSQL database"
          ></textarea>
        </div>
        <div class="row">
          <div class="col">
            <label for="provider">Cloud Provider</label>
            <select id="provider">
              <option value="azure" selected>Azure</option>
              <option value="aws">AWS</option>
            </select>
          </div>
          <div class="col">
            <label for="region">Region (optional)</label>
            <input id="region" type="text" placeholder="eastus / us-east-1" />
          </div>
          <div class="col">
            <label for="apiKey">API Key (x-api-key)</label>
            <input id="apiKey" type="password" placeholder="super-secret-key" />
          </div>
        </div>
        <div class="row actions">
          <button id="btnGenerate">üöÄ Generate</button>
          <span id="status" class="status" role="status" aria-live="polite"></span>
        </div>
      </section>

      <!-- Results Grid -->
      <section class="grid">
        <!-- Diagram -->
        <div class="card">
          <div class="card-head">
            <h3>
              Architecture Diagram (<span id="providerLabel">Azure</span>)
            </h3>
            <div class="right">
              <button id="btnSvg">‚¨áÔ∏è SVG</button>
              <button id="btnPng">‚¨áÔ∏è PNG</button>
            </div>
          </div>
          <!-- Host for rendered Mermaid SVG -->
          <div id="diagramHost" class="diagram-host mermaid"></div>
        </div>

        <!-- Terraform -->
        <div class="card">
          <div class="card-head">
            <h3>Terraform</h3>
            <div class="right">
              <button id="btnCopyTf">üìã Copy</button>
              <button id="btnDlTf">‚¨áÔ∏è Download .tf</button>
            </div>
          </div>
          <textarea
            id="tfOut"
            class="code"
            rows="16"
            spellcheck="false"
            placeholder="# Terraform code will appear here"
          ></textarea>
        </div>

        <!-- Pricing -->
        <div class="card">
          <div class="card-head">
            <h3>Estimated Monthly Cost</h3>
            <div class="right">
              <button id="btnCsv">‚¨áÔ∏è Download CSV</button>
            </div>
          </div>
          <div id="pricing" class="pricing-table">
            <p class="muted">No cost data yet.</p>
          </div>
        </div>

        <!-- Confluence -->
        <div class="card">
          <div class="card-head">
            <h3>Confluence Documentation</h3>
            <div class="right">
              <button id="btnCopyConfluence">üìã Copy</button>
              <button id="btnDlConfluence">‚¨áÔ∏è Download .txt</button>
            </div>
          </div>
          <textarea
            id="confluenceDoc"
            class="code"
            rows="16"
            spellcheck="false"
            placeholder="Confluence-ready documentation will appear here"
          ></textarea>
        </div>
      </section>

      <!-- Footer -->
      <footer class="foot">
        <small>¬© ArchGenie</small>
      </footer>
    </main>

    <script src="./app.js"></script>
  </body>
</html>